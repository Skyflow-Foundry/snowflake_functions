USE DATABASE SKYFLOW_DEMO;
DROP TASK IF EXISTS SKYFLOW_PII_STREAM_CUSTOMERS_TASK;
DROP STREAM IF EXISTS SKYFLOW_PII_STREAM_CUSTOMERS;
DROP FUNCTION IF EXISTS SKYFLOW_DETOKENIZE(VARCHAR);
DROP PROCEDURE IF EXISTS SKYFLOW_PROCESS_PII();
DROP PROCEDURE IF EXISTS SKYFLOW_TOKENIZE_TABLE(VARCHAR);
DROP PROCEDURE IF EXISTS GRANT_ROLES_TO_CURRENT_USER();
DROP ROLE IF EXISTS Admin;
DROP ROLE IF EXISTS Developer;
DROP TABLE IF EXISTS CUSTOMERS;
DROP SECRET IF EXISTS SKYFLOW_VAULT_SECRET;
DROP EXTERNAL ACCESS INTEGRATION IF EXISTS SKYFLOW_EXTERNAL_ACCESS_INTEGRATION;
DROP NETWORK RULE IF EXISTS SKYFLOW_APIS_NETWORK_RULE;
DROP DATABASE IF EXISTS SKYFLOW_DEMO;